# Ошибки при работе с Cursor

## Слишком общие запросы

**Как выглядит:**
- "Сделай модуль лифта"
- "Напиши архитектуру"
- "Сделай физику полёта"

**Проблема:** Cursor придумывает архитектуру, добавляет классы, абстракции, зависимости, ломает стиль проекта.

**Решение:** используй формулу **Контекст → Ограничения → Задача → Формат ответа**.

Пример:
```
Context: telnik-flight-engine, TS-only, pure functions
Constraints: no classes, no new abstractions
Task: propose 3 variants of the lift module
Output: variants + comparison + recommendation
```

## Перегрузка контекстом

**Как выглядит:** 20 абзацев описания, 50 требований в одном промпте.

**Проблема:** Cursor игнорирует часть требований, теряет фокус, выдаёт непредсказуемый результат.

**Решение:** **3–7 строк контекста, 3–5 ограничений, 1 задача**.

## Попытка сделать всё сразу

**Как выглядит:** "Сделай архитектуру, API, код, тесты и документацию".

**Проблема:** смешивание уровней абстракции, ошибки в API, несогласованность модулей.

**Решение:** работай итеративно: архитектура → API → реализация → тесты → документация.

## Отсутствие запретов

**Как выглядит:** "Сделай модуль", без ограничений.

**Проблема:** появляются классы, скрытое состояние, новые типы, внешние зависимости, нарушение стиля.

**Решение:** всегда указывай запреты:
- no classes
- no new abstractions
- no hidden state
- no external deps
- do not change API

## Длинные цепочки правок

**Как выглядит:** "Исправь это, и ещё это, и ещё вот это…"

**Проблема:** Cursor теряет контекст, меняет лишнее, ломает соседние модули.

**Решение:** **одна правка → один шаг**.

## Нет плана перед изменениями

**Как выглядит:** "Переименуй функцию во всём проекте".

**Проблема:** Cursor меняет не те файлы, ломает импорты, меняет архитектуру.

**Решение:** всегда:
```
First, show the plan and list of files.
Wait for confirmation.
```

## Неограниченная область изменений

**Как выглядит:** "Исправь этот модуль", без уточнения.

**Проблема:** изменения в других файлах, каскадные правки, неожиданные rename, изменение API.

**Решение:**
```
Modify only this file.
Do not touch other modules.
```

## Просьбы объяснить код без кода

**Как выглядит:** "Объясни, что делает этот модуль", без вставки кода.

**Проблема:** Cursor фантазирует, объясняет несуществующие вещи, вводит в заблуждение.

**Решение:** всегда вставляй код, который нужно анализировать.

## Слишком много задач в одном промпте

**Как выглядит:** "Сделай архитектуру, оптимизацию, тесты и документацию".

**Проблема:** хаотичный результат, потеря структуры, ошибки в API, несогласованность.

**Решение:** **одна задача → один промпт**.

## Свобода действий там, где нужна строгость

**Как выглядит:** "Сделай как считаешь нужным".

**Проблема:** магия, новые абстракции, переписанная архитектура, неожиданные решения.

**Решение:** задавай рамки: стиль, архитектуру, ограничения, формат ответа.

## Использование Cursor без индексации проекта

**Как выглядит:** Cursor "не видит" типы, функции, структуру.

**Проблема:** неправильные импорты, неверные типы, дублирование функций, ошибки в интеграции.

**Решение:** проверь: **Settings → Codebase → Indexing: ON**.

## Доверие к ответу без проверки

**Как выглядит:** "Ну Cursor же написал правильно".

**Проблема:** скрытые ошибки, неверные формулы, неправильные edge cases, нарушение архитектуры.

**Решение:** проси Cursor проверять себя:
```
Check for:
- architectural inconsistencies
- hidden state
- nondeterminism
- naming issues
```